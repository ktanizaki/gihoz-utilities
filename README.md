# Utilities for GIHOZ

テスト技法ツールGIHOZで作成したデータを活用するツール群です。
GIHOZはこちら。
https://www.veriserve.co.jp/gihoz/

## Check combinations of pair-wise testing
GIHOZのペアワイズテストの生成結果をcsvダウンロードして、以下のコマンドを実行してください。checked.csvというファイルに実行結果が出力されます。

``` shell
$ python check_combinations.py [csv file name]
```

パラメータと値の総当たり表が作成されます。総当たり表は以下の形式で、組み合わせが登場した回数を数字で表しており、組み合わせの網羅度合いを確認できます。

|||パラメータ1||パラメータ2||パラメータ3||
|---|---|---|---|---|---|---|---|
|||値1|値2|値3|値4|値5|値6|
|パラメータ1|値1|0|0|2|1|1|2|
||値2|0|0|1|1|1|1|
|パラメータ2|値3|2|1|0|0|1|2|
||値4|1|1|0|0|1|1|
|パラメータ3|値5|1|1|1|1|0|0|
||値6|2|1|2|1|0|0|


## Transform a decision table to a test cases list
GIHOZのデシジョンテーブルテストで作成した結果をcsvダウンロードして、以下のコマンドを実行してください。transformed.csvというファイルに実行結果が出力されます。

``` shell
$ python transform_decisiontable.py [csv file name]
```
デシジョンテーブルをテストケースリストに変換します。例えば、以下のようなデシジョンテーブルをGIHOZで作成したとします。

||||1|2|3|4|5|6|7|8|
|---|---|---|---|---|---|---|---|---|---|---|
|条件|会員|通常会員|Y|Y|Y|Y|N|N|N|N|
|||ゴールド会員|N|N|N|N|Y|Y|Y|Y|
||クーポン持参||Y|Y|N|N|Y|Y|N|N|
||サービスタイム||Y|N|Y|N|Y|N|Y|N|
|動作|割引なし|||||X||
||3%割引|||X|X|||||X|
||5%割引||X|||||X|X||
||10%割引||||||X||||
||新クーポン配布|||X||||X|||

transform_decisiontable.pyを実行すると以下の形式で出力されます。

||会員|クーポン持参|サービスタイム|動作|
|---|---|---|---|---|
|1|通常会員|クーポン持参|サービスタイム|5%割引|
|2|通常会員|クーポン持参|NOT サービタイム|3%割引, 新クーポン配布|
|3|通常会員|NOT クーポン持参|サービスタイム|3%割引|
|4|通常会員|NOT クーポン持参|NOT サービスタイム|割引なし|
|5|ゴールド会員|クーポン持参|サービスタイム|10%割引|
|6|ゴールド会員|クーポン持参|NOT サービスタイム|5%割引, 新クーポン配布|
|7|ゴールド会員|NOT クーポン持参|サービスタイム|5%割引|
|8|ゴールド会員|NOT クーポン持参|NOT サービスタイム|3%割引|

リストへの変換のルールは以下の通りです。
* サブ条件（条件の子階層）が存在する場合、「Y」が指定されたサブ条件の名称をリストに反映します
* サブ条件がない場合、「Y」が指定された条件は名称をそのままリストに反映し、「N」が指定された条件は「NOT 名称」をリストに反映します
* 動作に複数の「X」を指定していた場合、動作の名称をカンマ区切りの文字列に結合してリストに反映します